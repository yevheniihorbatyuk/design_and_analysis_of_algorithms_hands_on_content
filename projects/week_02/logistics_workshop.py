# %% [markdown]
#  # –ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π –≤–æ—Ä–∫—à–æ–ø: –ü–æ–±—É–¥–æ–≤–∞ –ª–æ–≥—ñ—Å—Ç–∏—á–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ –∑ –Ω—É–ª—è
#
#  **–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ú–∏ ‚Äî –ª–æ–≥—ñ—Å—Ç–∏—á–Ω–∞ –∫–æ–º–ø–∞–Ω—ñ—è, —è–∫–∞ –º–∞—î –¥–æ—Å—Ç–∞–≤–∏—Ç–∏ 15 –∑–∞–º–æ–≤–ª–µ–Ω—å –ø–æ –ö–∏—ó–≤—Å—å–∫—ñ–π –æ–±–ª–∞—Å—Ç—ñ –∑ 3 —Å–∫–ª–∞–¥—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ 3 –≤–∞–Ω—Ç–∞–∂—ñ–≤–∫–∏ —Ä—ñ–∑–Ω–æ—ó –º—ñ—Å—Ç–∫–æ—Å—Ç—ñ.
#
#  **–ù–∞—à–∞ –º–µ—Ç–∞:** –ü–æ–±—É–¥—É–≤–∞—Ç–∏ –ø–æ–≤–Ω–∏–π —Ü–∏–∫–ª –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó: –≤—ñ–¥ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–æ—Ä–æ–∂–Ω—ñ—Ö –≤—ñ–¥—Å—Ç–∞–Ω–µ–π –¥–æ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –Ω–∞ –∫–∞—Ä—Ç—ñ.
#
#  ### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞—à–æ–≥–æ —Ä—ñ—à–µ–Ω–Ω—è
#  ```
#  [ –í—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ: CSV –∑ —Ç–æ—á–∫–∞–º–∏ ]
#      ‚Üì
#  [ –ö—Ä–æ–∫ 1: –ú–∞—Ç—Ä–∏—Ü—è –≤—ñ–¥—Å—Ç–∞–Ω–µ–π (OSRM) ]
#      ‚Üì
#  [ –ö—Ä–æ–∫ 2: VRP –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è (VROOM) ]
#      ‚Üì
#  [ –ö—Ä–æ–∫ 3: –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ (Folium, Pandas) ]
#  ```

# %%
# =============================================================================
# –ö–ª—ñ—Ç–∏–Ω–∫–∞ 1: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ç–∞ —ñ–º–ø–æ—Ä—Ç–∏
# =============================================================================
import pandas as pd
import requests
import json
import folium
from folium.plugins import HeatMap
import time
from datetime import datetime, timedelta

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Pandas –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
pd.set_option('display.max_rows', 50)
pd.set_option('display.max_columns', 20)
pd.set_option('display.width', 120)

# URL –¥–æ –Ω–∞—à–∏—Ö –ª–æ–∫–∞–ª—å–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ (–∑–∞–ø—É—â–µ–Ω–∏—Ö —á–µ—Ä–µ–∑ Docker Compose)
OSRM_URL = "http://localhost:5000"
VROOM_URL = "http://localhost:3000/optimize"

print("‚úÖ –°–µ—Ä–µ–¥–æ–≤–∏—â–µ —Ç–∞ –∑–º—ñ–Ω–Ω—ñ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ.")

# %% [markdown]
#  ## –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞: –ó–∞–ø—É—Å–∫–∞—î–º–æ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
#
#  –ü–µ—Ä—à –Ω—ñ–∂ –ø–æ—á–∞—Ç–∏, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–≤–∞ –∫–ª—é—á–æ–≤—ñ —Å–µ—Ä–≤—ñ—Å–∏: **OSRM** (–¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –º–∞—Ä—à—Ä—É—Ç—ñ–≤) —Ç–∞ **VROOM** (–¥–ª—è VRP –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó).
#
#  **–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:**
#  1. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Docker —Ç–∞ Docker Compose.**
#  2. **–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∫–∞—Ä—Ç—É:** –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ñ–∞–π–ª `ukraine-latest.osm.pbf` –∑ [Geofabrik](https://download.geofabrik.de/europe/ukraine.html) —ñ –ø–æ–∫–ª–∞–¥—ñ—Ç—å –π–æ–≥–æ –≤ –ø–∞–ø–∫—É `data/osrm_data/`.
#  3. **–ü—ñ–¥–≥–æ—Ç—É–π—Ç–µ OSRM –¥–∞–Ω—ñ:** –í —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ, —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É, –≤–∏–∫–æ–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏. **–¶–µ –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ 10-30 —Ö–≤–∏–ª–∏–Ω —ñ –ø–æ—Ç—Ä–µ–±—É–≤–∞—Ç–∏ >16GB RAM!**
#     ```bash
#     # –ö—Ä–æ–∫ 1: Extract (–≤–∏—Ç—è–≥–Ω–µ–Ω–Ω—è –≥—Ä–∞—Ñ—É –¥–æ—Ä—ñ–≥)
#     docker run -t -v "${PWD}/data/osrm_data:/data" osrm/osrm-backend:v5.27.1 osrm-extract -p /opt/car.lua /data/ukraine-latest.osm.pbf
#     # –ö—Ä–æ–∫ 2: Partition and Customize (–¥–ª—è MLD –∞–ª–≥–æ—Ä–∏—Ç–º—É)
#     docker run -t -v "${PWD}/data/osrm_data:/data" osrm/osrm-backend:v5.27.1 osrm-partition /data/ukraine-latest.osrm
#     docker run -t -v "${PWD}/data/osrm_data:/data" osrm/osrm-backend:v5.27.1 osrm-customize /data/ukraine-latest.osrm
#     ```
#  4. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å–∏:**
#     ```bash
#     docker-compose up -d
#     ```
#  5. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —Å–µ—Ä–≤—ñ—Å–∏ –ø—Ä–∞—Ü—é—é—Ç—å:**
#     - OSRM: [http://localhost:5000](http://localhost:5000)
#     - VROOM: [http://localhost:3000](http://localhost:3000)

# %%
# =============================================================================
# –ö–ª—ñ—Ç–∏–Ω–∫–∞ 2: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
# =============================================================================
# –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –¥–∞–Ω—ñ –∑ CSV
try:
    points_df = pd.read_csv('data/points.csv')
    depots_df = points_df[points_df['type'] == 'depot'].reset_index(drop=True)
    jobs_df = points_df[points_df['type'] == 'delivery'].reset_index(drop=True)
    print("‚úÖ –î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ:")
    print("\n–°–∫–ª–∞–¥–∏ (–¥–µ–ø–æ):")
    print(depots_df)
    print("\n–¢–æ—á–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ (–∑–∞–º–æ–≤–ª–µ–Ω–Ω—è):")
    print(jobs_df)
except FileNotFoundError:
    print("‚ùå –ü–æ–º–∏–ª–∫–∞: —Ñ–∞–π–ª 'data/points.csv' –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –ë—É–¥—å –ª–∞—Å–∫–∞, —Å—Ç–≤–æ—Ä—ñ—Ç—å –π–æ–≥–æ.")

# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–∞—Å—É —É —Å–µ–∫—É–Ω–¥–∏ –≤—ñ–¥ –ø—ñ–≤–Ω–æ—á—ñ
def time_to_seconds(time_str):
    h, m = map(int, time_str.split(':'))
    return h * 3600 + m * 60

# %% [markdown]
#  ## –ö—Ä–æ–∫ 1: –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –º–∞—Ç—Ä–∏—Ü—ñ –≤—ñ–¥—Å—Ç–∞–Ω–µ–π —Ç–∞ —á–∞—Å—É
#
#  **–ó–∞–¥–∞—á–∞:** –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ—á–Ω—ñ —á–∞—Å —Ç–∞ –≤—ñ–¥—Å—Ç–∞–Ω—å –ø–æ –¥–æ—Ä–æ–≥–∞—Ö –º—ñ–∂ —É—Å—ñ–º–∞ –Ω–∞—à–∏–º–∏ —Ç–æ—á–∫–∞–º–∏ (—Å–∫–ª–∞–¥–∞–º–∏ —Ç–∞ –∫–ª—ñ—î–Ω—Ç–∞–º–∏). –¶–µ "–ø–∞–ª–∏–≤–æ" –¥–ª—è –±—É–¥—å-—è–∫–æ–≥–æ VRP-–æ–ø—Ç–∏–º—ñ–∑–∞—Ç–æ—Ä–∞.
#
#  **–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** **OSRM (Open Source Routing Machine)**. –¶–µ –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ —à–≤–∏–¥–∫–∏–π —Ä—É—à—ñ–π –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞–ª–≥–æ—Ä–∏—Ç–º **Contraction Hierarchies (CH)** –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –Ω–∞ –∑–∞–ø–∏—Ç–∏.

# %%
# =============================================================================
# –ö–ª—ñ—Ç–∏–Ω–∫–∞ 3: –ó–∞–ø–∏—Ç –¥–æ OSRM –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ
# =============================================================================
def get_osrm_matrix(points):
    """–û—Ç—Ä–∏–º—É—î –º–∞—Ç—Ä–∏—Ü—é –≤—ñ–¥—Å—Ç–∞–Ω–µ–π —Ç–∞ —á–∞—Å—É –≤—ñ–¥ OSRM."""
    locations = ";".join([f"{lon},{lat}" for lon, lat in points[['lon', 'lat']].values])
    url = f"{OSRM_URL}/table/v1/driving/{locations}?annotations=duration,distance"
    
    try:
        response = requests.get(url, timeout=30)
        response.raise_for_status()
        data = response.json()
        
        if data['code'] == 'Ok':
            print("‚úÖ –ú–∞—Ç—Ä–∏—Ü—é –≤—ñ–¥—Å—Ç–∞–Ω–µ–π —Ç–∞ —á–∞—Å—É —É—Å–ø—ñ—à–Ω–æ –æ—Ç—Ä–∏–º–∞–Ω–æ –≤—ñ–¥ OSRM.")
            return np.array(data['durations']), np.array(data['distances'])
        else:
            print(f"‚ùå –ü–æ–º–∏–ª–∫–∞ OSRM: {data['message']}")
            return None, None
    except requests.exceptions.RequestException as e:
        print(f"‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ OSRM: {e}")
        print("   –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –∑–∞–ø—É—â–µ–Ω—ñ.")
        return None, None

# –û–±'—î–¥–Ω—É—î–º–æ –≤—Å—ñ —Ç–æ—á–∫–∏ –¥–ª—è –∑–∞–ø–∏—Ç—É –¥–æ OSRM
all_points = pd.concat([depots_df, jobs_df], ignore_index=True)
durations_matrix, distances_matrix = get_osrm_matrix(all_points)

if durations_matrix is not None:
    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ —É —Ö–≤–∏–ª–∏–Ω–∏ –¥–ª—è –∫—Ä–∞—â–æ—ó —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ
    durations_df = pd.DataFrame(durations_matrix / 60, 
                                index=all_points['name'], 
                                columns=all_points['name'])
    print("\n–ú–∞—Ç—Ä–∏—Ü—è —á–∞—Å—É –≤ –¥–æ—Ä–æ–∑—ñ (—Ö–≤–∏–ª–∏–Ω–∏):")
    print(durations_df.round(1))

# %% [markdown]
#  ## –ö—Ä–æ–∫ 2: VRP –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
#
#  **–ó–∞–¥–∞—á–∞:** –†–æ–∑–ø–æ–¥—ñ–ª–∏—Ç–∏ –≤—Å—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –º—ñ–∂ –Ω–∞—è–≤–Ω–∏–º–∏ –≤–∞–Ω—Ç–∞–∂—ñ–≤–∫–∞–º–∏ —Ç–∞–∫, —â–æ–± –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å —É –¥–æ—Ä–æ–∑—ñ, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è (–º—ñ—Å—Ç–∫—ñ—Å—Ç—å, —á–∞—Å–æ–≤—ñ –≤—ñ–∫–Ω–∞).
#
#  **–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** **VROOM (Vehicle Routing Open-source Optimization Machine)**. –¶–µ –≤–∏—Å–æ–∫–æ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏–π –æ–ø—Ç–∏–º—ñ–∑–∞—Ç–æ—Ä, –Ω–∞–ø–∏—Å–∞–Ω–∏–π –Ω–∞ C++, —è–∫–∏–π –≤–∏—Ä—ñ—à—É—î —Å–∫–ª–∞–¥–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ VRP. –ú–∏ –±—É–¥–µ–º–æ —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –∑ –Ω–∏–º —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–∏–π REST API.

# %%
# =============================================================================
# –ö–ª—ñ—Ç–∏–Ω–∫–∞ 4: –§–æ—Ä–º—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É –¥–æ VROOM —Ç–∞ –π–æ–≥–æ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞
# =============================================================================
def solve_vrp_with_vroom(depots, jobs, time_matrix):
    """–§–æ—Ä–º—É—î —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –∑–∞–ø–∏—Ç –¥–æ VROOM."""
    
    # 1. –û–ø–∏—Å—É—î–º–æ –Ω–∞—à—ñ –≤–∞–Ω—Ç–∞–∂—ñ–≤–∫–∏
    vehicles = []
    capacities = [20, 30, 25] # –ú—ñ—Å—Ç–∫—ñ—Å—Ç—å –¥–ª—è 3-—Ö –º–∞—à–∏–Ω
    for i, depot in depots.iterrows():
        vehicles.append({
            "id": i,
            "profile": "driving",
            "start": [depot['lon'], depot['lat']],
            "end": [depot['lon'], depot['lat']],
            "capacity": [capacities[i]],
            "time_window": [time_to_seconds(depot['time_window_start']), time_to_seconds(depot['time_window_end'])]
        })

    # 2. –û–ø–∏—Å—É—î–º–æ –Ω–∞—à—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (jobs)
    vroom_jobs = []
    for i, job in jobs.iterrows():
        vroom_jobs.append({
            "id": i + len(depots), # –í–∞–∂–ª–∏–≤–æ, —â–æ–± ID –±—É–ª–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ —ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª–∏ –º–∞—Ç—Ä–∏—Ü—ñ
            "location": [job['lon'], job['lat']],
            "service": 900, # 15 —Ö–≤–∏–ª–∏–Ω –Ω–∞ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è
            "amount": [int(job['demand'])],
            "time_windows": [[time_to_seconds(job['time_window_start']), time_to_seconds(job['time_window_end'])]]
        })
        
    # 3. –§–æ—Ä–º—É—î–º–æ –ø–æ–≤–Ω–∏–π –∑–∞–ø–∏—Ç, –≤–∫–ª—é—á–∞—é—á–∏ –º–∞—Ç—Ä–∏—Ü—é —á–∞—Å—É
    request_payload = {
        "vehicles": vehicles,
        "jobs": vroom_jobs,
        "matrices": {
            "driving": {
                "durations": time_matrix.tolist()
            }
        }
    }
    
    # 4. –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –∑–∞–ø–∏—Ç
    try:
        headers = {'Content-Type': 'application/json'}
        response = requests.post(VROOM_URL, data=json.dumps(request_payload), headers=headers, timeout=30)
        response.raise_for_status()
        solution = response.json()
        
        if solution['code'] == 0:
            print("‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –æ—Ç—Ä–∏–º–∞–Ω–æ –≤—ñ–¥ VROOM.")
            return solution
        else:
            print(f"‚ùå –ü–æ–º–∏–ª–∫–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó VROOM: {solution.get('error')}")
            return None
    except requests.exceptions.RequestException as e:
        print(f"‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ VROOM: {e}")
        return None

# –í–∏—Ä—ñ—à—É—î–º–æ VRP
vroom_solution = solve_vrp_with_vroom(depots_df, jobs_df, durations_matrix)

if vroom_solution:
    # –ê–Ω–∞–ª—ñ–∑—É—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    summary = vroom_solution['summary']
    routes = vroom_solution['routes']
    
    print("\n--- –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä—ñ—à–µ–Ω–Ω—è ---")
    print(f"  –í–∞—Ä—Ç—ñ—Å—Ç—å (–∑–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å): {timedelta(seconds=summary['cost'])}")
    print(f"  –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏—Ö –º–∞—à–∏–Ω: {summary['vehicles']}")
    print(f"  –ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å –≤ –¥–æ—Ä–æ–∑—ñ: {timedelta(seconds=summary['duration'])}")
    print(f"  –ß–∞—Å –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è: {timedelta(seconds=summary['service'])}")
    
    print("\n--- –î–µ—Ç–∞–ª—ñ –º–∞—Ä—à—Ä—É—Ç—ñ–≤ ---")
    for route in routes:
        vehicle_id = route['vehicle']
        depot_name = depots_df.loc[vehicle_id, 'name']
        num_stops = len(route['steps']) - 2 # –º—ñ–Ω—É—Å —Å—Ç–∞—Ä—Ç —ñ –∫—ñ–Ω–µ—Ü—å
        print(f"\n  üöö –ú–∞—à–∏–Ω–∞ #{vehicle_id+1} (–∑—ñ —Å–∫–ª–∞–¥—É '{depot_name}')")
        print(f"     - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–æ–∫: {num_stops}")
        print(f"     - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ—Å—Ç—å: {route['delivery'][0]} / {capacities[vehicle_id]} –æ–¥.")
        print(f"     - –ß–∞—Å —É –¥–æ—Ä–æ–∑—ñ: {timedelta(seconds=route['duration'])}")

# %% [markdown]
#  ## –ö—Ä–æ–∫ 3: –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞
#
#  **–ó–∞–¥–∞—á–∞:** –ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ –æ—Ç—Ä–∏–º–∞–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏ —É –∑—Ä–æ–∑—É–º—ñ–ª–æ–º—É –≤–∏–≥–ª—è–¥—ñ —Ç–∞ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–ª—é—á–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.
#
#  **–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:**
#  - **Folium:** –î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–∞—Ä—Ç –Ω–∞ –æ—Å–Ω–æ–≤—ñ Leaflet.js.
#  - **Pandas:** –î–ª—è –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É –¥–∞–Ω–∏—Ö.

# %%
# =============================================================================
# –ö–ª—ñ—Ç–∏–Ω–∫–∞ 5: –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –Ω–∞ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ–π –∫–∞—Ä—Ç—ñ
# =============================================================================
def visualize_routes_on_map(solution, depots, jobs):
    """–í—ñ–∑—É–∞–ª—ñ–∑—É—î –º–∞—Ä—à—Ä—É—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç—ñ Folium."""
    if not solution or 'routes' not in solution:
        print("–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó.")
        return None

    # –°—Ç–≤–æ—Ä—é—î–º–æ –∫–∞—Ä—Ç—É –∑ —Ü–µ–Ω—Ç—Ä–æ–º —É –ö–∏—î–≤—ñ
    map_center = [50.4501, 30.5234]
    m = folium.Map(location=map_center, zoom_start=9, tiles="cartodbpositron")

    colors = ['#FF5733', '#33FF57', '#3357FF', '#FF33A1', '#A133FF']
    
    # –î–æ–¥–∞—î–º–æ –¥–µ–ø–æ –Ω–∞ –∫–∞—Ä—Ç—É
    for i, depot in depots.iterrows():
        folium.Marker(
            location=[depot['lat'], depot['lon']],
            popup=f"<strong>–°–∫–ª–∞–¥:</strong> {depot['name']}",
            icon=folium.Icon(color='black', icon='warehouse', prefix='fa')
        ).add_to(m)

    # –ú–∞–ª—é—î–º–æ –º–∞—Ä—à—Ä—É—Ç–∏
    for i, route in enumerate(solution['routes']):
        vehicle_id = route['vehicle']
        color = colors[i % len(colors)]
        
        # –û—Ç—Ä–∏–º—É—î–º–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –¥–ª—è –ª—ñ–Ω—ñ—ó –º–∞—Ä—à—Ä—É—Ç—É
        route_points = []
        for step in route['steps']:
            # VROOM –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏, –º–∏ –º–∞—î–º–æ —ó—Ö –≤–∑—è—Ç–∏ –∑ –Ω–∞—à–∏—Ö –¥–∞–Ω–∏—Ö
            # –Ü–Ω–¥–µ–∫—Å–∏ –≤ –º–∞—Ç—Ä–∏—Ü—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å —ñ–Ω–¥–µ–∫—Å–∞–º –≤ all_points
            point_index = step['id']
            point_info = all_points.loc[point_index]
            route_points.append([point_info['lat'], point_info['lon']])
        
        # –ú–∞–ª—é—î–º–æ –ª—ñ–Ω—ñ—é –º–∞—Ä—à—Ä—É—Ç—É
        folium.PolyLine(
            locations=route_points,
            color=color,
            weight=4,
            opacity=0.8,
            popup=f"–ú–∞—à–∏–Ω–∞ #{vehicle_id+1}"
        ).add_to(m)

        # –î–æ–¥–∞—î–º–æ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
        for step in route['steps']:
            if step['type'] == 'job':
                job_index = step['id'] - len(depots) # Adjust index for jobs_df
                job_info = jobs.loc[job_index]
                arrival_time = datetime.fromtimestamp(route['arrival'] + step['arrival']).strftime('%H:%M')
                
                folium.CircleMarker(
                    location=[job_info['lat'], job_info['lon']],
                    radius=8,
                    color=color,
                    fill=True,
                    fill_color=color,
                    fill_opacity=0.9,
                    popup=(f"<strong>{job_info['name']}</strong><br>"
                           f"–ü—Ä–∏–±—É—Ç—Ç—è: {arrival_time}<br>"
                           f"–í—ñ–∫–Ω–æ: {job_info['time_window_start']}-{job_info['time_window_end']}<br>"
                           f"–ü–æ–ø–∏—Ç: {job_info['demand']} –æ–¥.")
                ).add_to(m)
    
    print("‚úÖ –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É –∫–∞—Ä—Ç—É –∑ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ. –í–æ–Ω–∞ –±—É–¥–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–∞ –Ω–∏–∂—á–µ.")
    return m

# –ì–µ–Ω–µ—Ä—É—î–º–æ —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –∫–∞—Ä—Ç—É
if vroom_solution:
    routes_map = visualize_routes_on_map(vroom_solution, depots_df, jobs_df)
    # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –∫–∞—Ä—Ç—É –≤ HTML —Ñ–∞–π–ª
    routes_map.save("logistics_routes_map.html")
    display(routes_map)

# %% [markdown]
#  ## –°–∏—Å—Ç–µ–º–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è: –≤—ñ–¥ –∞–ª–≥–æ—Ä–∏—Ç–º—É –¥–æ Production
#
#  –ú–∏ —â–æ–π–Ω–æ –≤–∏–∫–æ–Ω–∞–ª–∏ –æ—Å–Ω–æ–≤–Ω–∏–π —Ü–∏–∫–ª –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó. –£ —Ä–µ–∞–ª—å–Ω—ñ–π –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–∏—Å—Ç–µ–º—ñ —Ü–µ –ª–∏—à–µ –æ–¥–∏–Ω –∑ –±–∞–≥–∞—Ç—å–æ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.
#
#  - **–î–∞–Ω—ñ:** –ó–∞–º—ñ—Å—Ç—å CSV, –¥–∞–Ω—ñ –Ω–∞–¥—Ö–æ–¥–∏–ª–∏ –± –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (PostgreSQL + PostGIS).
#  - **–°–µ—Ä–≤—ñ—Å–∏:** OSRM —Ç–∞ VROOM –ø—Ä–∞—Ü—é–≤–∞–ª–∏ –± —è–∫ –æ–∫—Ä–µ–º—ñ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–∏, —è–∫—ñ –º–æ–∂–Ω–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ.
#  - **API:** –ù–∞—à Python-—Å–∫—Ä–∏–ø—Ç –±—É–≤ –±–∏ –æ–±–≥–æ—Ä–Ω—É—Ç–∏–π —É FastAPI, –ø—Ä–∏–π–º–∞—é—á–∏ –Ω–æ–≤—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—é—á–∏ –º–∞—Ä—à—Ä—É—Ç–∏.
#  - **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è:** –©–æ–¥–µ–Ω–Ω–∞ –ø–∞–∫–µ—Ç–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø—É—Å–∫–∞–ª–∞—Å—è –± –∑–∞ —Ä–æ–∑–∫–ª–∞–¥–æ–º –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Apache Airflow.
#  - **–†–µ–∞–ª—å–Ω–∏–π —á–∞—Å:** –ù–æ–≤—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è "–Ω–∞ –ª—å–æ—Ç—É" –¥–æ–¥–∞–≤–∞–ª–∏—Å—è –± –¥–æ —ñ—Å–Ω—É—é—á–∏—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ —á–∞—Å—Ç–∫–æ–≤—É –ø–µ—Ä–µ–æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é.
#
#  –†–æ–∑—É–º—ñ–Ω–Ω—è —Ç–æ–≥–æ, —è–∫ –æ–∫—Ä–µ–º—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –≤–ø–∏—Å—É—é—Ç—å—Å—è –≤ –∑–∞–≥–∞–ª—å–Ω—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É, —î –∫–ª—é—á–æ–≤–∏–º –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ —Å–∫–ª–∞–¥–Ω–∏—Ö —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏—Ö —Å–∏—Å—Ç–µ–º.

# %% [markdown]
#  ## –í–∏—Å–Ω–æ–≤–∫–∏ –≤–æ—Ä–∫—à–æ–ø—É
#
#  1. **–ú–∏ –ø–æ–±—É–¥—É–≤–∞–ª–∏ –ø–æ–≤–Ω–∏–π –ø–∞–π–ø–ª–∞–π–Ω –ª–æ–≥—ñ—Å—Ç–∏—á–Ω–æ—ó –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó**, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —ñ–Ω–¥—É—Å—Ç—Ä—ñ–∞–ª—å–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è.
#  2. **–ü–æ–±–∞—á–∏–ª–∏ —Å–∏–ª—É —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤:** Contraction Hierarchies (–≤ OSRM) –¥–ª—è –º–∏—Ç—Ç—î–≤–æ–≥–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –≤—ñ–¥—Å—Ç–∞–Ω–µ–π —Ç–∞ –ø—Ä–æ—Å—É–Ω—É—Ç—ñ –µ–≤—Ä–∏—Å—Ç–∏–∫–∏ (–≤ VROOM) –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–æ—ó NP-hard –∑–∞–¥–∞—á—ñ VRP.
#  3. **–°—Ç–≤–æ—Ä–∏–ª–∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É –∫–∞—Ä—Ç—É –∑ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏, —è–∫—É –º–æ–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—É —á–∏ –≤–æ–¥—ñ—î–≤—ñ.
#  4. **–ó—Ä–æ–∑—É–º—ñ–ª–∏ –º—ñ—Å—Ü–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ —É —Å–∏—Å—Ç–µ–º—ñ:** –ù–∞—à –≤–æ—Ä–∫—à–æ–ø ‚Äî —Ü–µ "—Å–µ—Ä—Ü–µ" –≤–µ–ª–∏–∫–æ—ó –ª–æ–≥—ñ—Å—Ç–∏—á–Ω–æ—ó –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏.


# %% [markdown]
#  # –†–æ–∑–¥—ñ–ª 2: –í—ñ–¥ –ê–ª–≥–æ—Ä–∏—Ç–º—É –¥–æ –°–∏—Å—Ç–µ–º–∏
#
#  –ú–∏ —É—Å–ø—ñ—à–Ω–æ –≤–∏—Ä—ñ—à–∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –∑–∞–¥–∞—á—É –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó. –¢–µ–ø–µ—Ä –¥–∞–≤–∞–π—Ç–µ –∑—Ä–æ–±–∏–º–æ –∫—Ä–æ–∫ –Ω–∞–∑–∞–¥ —ñ –ø–æ–¥–∏–≤–∏–º–æ—Å—è, —è–∫ –ø–æ–¥—ñ–±–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è —ñ–Ω—Ç–µ–≥—Ä—É—é—Ç—å—Å—è –≤ —Å–∫–ª–∞–¥–Ω—ñ –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–∏—Å—Ç–µ–º–∏, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ –∫–æ–º–ø–∞–Ω—ñ—è—Ö —Ä—ñ–≤–Ω—è Uber, Amazon —á–∏ Glovo.

# %% [markdown]
#  ## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –†–µ–∞–ª—å–Ω–æ—ó Production –°–∏—Å—Ç–µ–º–∏
#
#  –ù–∞—à –≤–æ—Ä–∫—à–æ–ø ‚Äî —Ü–µ "—Å–µ—Ä—Ü–µ" –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó. –£ —Ä–µ–∞–ª—å–Ω–æ–º—É —Å–≤—ñ—Ç—ñ –≤–æ–Ω–æ –æ—Ç–æ—á–µ–Ω–µ –¥–µ—Å—è—Ç–∫–∞–º–∏ —ñ–Ω—à–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤, —è–∫—ñ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –∑–±—ñ—Ä –¥–∞–Ω–∏—Ö, –≤–∑–∞—î–º–æ–¥—ñ—é –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏, –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è.
#
#  ```mermaid
#  flowchart TD
#      subgraph "Frontend Layer"
#          WebApp[Web UI –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä—ñ–≤]
#          MobileApp[–ú–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –≤–æ–¥—ñ—ó–≤]
#          Dashboard[–î–∞—à–±–æ—Ä–¥ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏]
#      end
#
#      subgraph "Backend Services (Microservices)"
#          APIGateway[API Gateway]
#          OrderService[–°–µ—Ä–≤—ñ—Å –ó–∞–º–æ–≤–ª–µ–Ω—å]
#          OptimizationService[–ù–∞—à –≤–æ—Ä–∫—à–æ–ø: –°–µ—Ä–≤—ñ—Å –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó]
#          NotificationService[–°–µ—Ä–≤—ñ—Å –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å]
#          UserService[–°–µ—Ä–≤—ñ—Å –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤]
#      end
#
#      subgraph "Routing & Optimization Engines"
#          OSRM[OSRM Engine]
#          VROOM[VROOM Engine]
#      end
#
#      subgraph "Data Layer"
#          Postgres[PostgreSQL + PostGIS]
#          Redis[Redis Cache]
#          Kafka[Kafka Event Stream]
#      end
#
#      Frontend Layer --> APIGateway
#      APIGateway --> OrderService
#      APIGateway --> UserService
#      OrderService -- –Ω–∞–¥—Å–∏–ª–∞—î –ø–æ–¥—ñ—é --> Kafka
#      Kafka -- —Å–ø–æ–≤—ñ—â–∞—î --> OptimizationService
#      OptimizationService -- –∑–∞–ø–∏—Ç –º–∞—Ç—Ä–∏—Ü—ñ --> OSRM
#      OptimizationService -- –∑–∞–ø–∏—Ç –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó --> VROOM
#      OptimizationService -- –∑–±–µ—Ä—ñ–≥–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç --> Postgres
#      OptimizationService -- –Ω–∞–¥—Å–∏–ª–∞—î –ø–æ–¥—ñ—é --> Kafka
#      Kafka -- —Å–ø–æ–≤—ñ—â–∞—î --> NotificationService
#      NotificationService --> MobileApp
#      APIGateway -- —á–∏—Ç–∞—î –¥–∞–Ω—ñ --> Postgres
#      APIGateway -- —á–∏—Ç–∞—î –∫–µ—à --> Redis
#  ```
#
#  **–†–æ–ª—å –Ω–∞—à–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —É —Ü—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ:**
#  - **OSRM/VROOM:** –í–∏–¥—ñ–ª–µ–Ω—ñ, –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏, —è–∫—ñ –º–æ–∂–Ω–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º–æ.
#  - **Python-—Å–∫—Ä–∏–ø—Ç (–Ω–∞—à –Ω–æ—É—Ç–±—É–∫):** –ë—É–≤ –±–∏ –æ–±–≥–æ—Ä–Ω—É—Ç–∏–π —É –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å (–Ω–∞–ø—Ä. –Ω–∞ FastAPI), —è–∫–∏–π —Å–ª—É—Ö–∞—î –ø–æ–¥—ñ—ó –ø—Ä–æ –Ω–æ–≤—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ Kafka, –≤–∏–∫–ª–∏–∫–∞—î OSRM/VROOM, —ñ –ø—É–±–ª—ñ–∫—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
#  - **PostGIS:** –ó–±–µ—Ä—ñ–≥–∞—î –≥–µ–æ-–¥–∞–Ω—ñ (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏, –ø–æ–ª—ñ–≥–æ–Ω–∏ –∑–æ–Ω –¥–æ—Å—Ç–∞–≤–∫–∏), —â–æ –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–±–∏—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ –ø—Ä–æ—Å—Ç–æ—Ä–æ–≤—ñ –∑–∞–ø–∏—Ç–∏ (–Ω–∞–ø—Ä., "–∑–Ω–∞–π—Ç–∏ –≤—Å—ñ—Ö –≤–æ–¥—ñ—ó–≤ —É —Ä–∞–¥—ñ—É—Å—ñ 2 –∫–º").

# %% [markdown]
#  ## –°–∏—Å—Ç–µ–º–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è: –†–µ–∞–ª—ñ—ó Production
#
#  | –¢–µ–æ—Ä—ñ—è (—â–æ –º–∏ –∑—Ä–æ–±–∏–ª–∏) | –†–µ–∞–ª—å–Ω—ñ—Å—Ç—å (—â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ production) | –†—ñ—à–µ–Ω–Ω—è –≤ Production |
#  | :--- | :--- | :--- |
#  | **–°—Ç–∞—Ç–∏—á–Ω–∏–π –Ω–∞–±—ñ—Ä —Ç–æ—á–æ–∫** | –ù–æ–≤—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞–¥—Ö–æ–¥—è—Ç—å –ø–æ—Å—Ç—ñ–π–Ω–æ, —ñ—Å–Ω—É—é—á—ñ —Å–∫–∞—Å–æ–≤—É—é—Ç—å—Å—è. | **–î–∏–Ω–∞–º—ñ—á–Ω–∞ –ø–µ—Ä–µ–æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:** –ó–∞–ø—É—Å–∫–∞—Ç–∏ VROOM –∫–æ–∂–Ω—ñ 1-5 —Ö–≤–∏–ª–∏–Ω –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤. |
#  | **–Ü–¥–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ** | –í–æ–¥—ñ–π –∑–∞—Å—Ç—Ä—è–≥ —É –∑–∞—Ç–æ—Ä—ñ, –∫–ª—ñ—î–Ω—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î, GPS-—Ç—Ä–µ–∫–µ—Ä –Ω–µ—Ç–æ—á–Ω–∏–π. | **Event-driven –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:** –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–≥—É—î –Ω–∞ –ø–æ–¥—ñ—ó (–∑–∞—Ç—Ä–∏–º–∫–∞, —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è) —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î –ø–µ—Ä–µ—Ä–∞—Ö—É–Ω–æ–∫. |
#  | **–û–¥–∏–Ω –∫—Ä–∏—Ç–µ—Ä—ñ–π (—á–∞—Å)** | –ü–æ—Ç—Ä—ñ–±–Ω–æ –±–∞–ª–∞–Ω—Å—É–≤–∞—Ç–∏ —á–∞—Å, –≤–∞—Ä—Ç—ñ—Å—Ç—å, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ—Å—Ç—å, –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –∫–ª—ñ—î–Ω—Ç–∞, –≤–∏–∫–∏–¥–∏ CO‚ÇÇ. | **–ë–∞–≥–∞—Ç–æ–∫—Ä–∏—Ç–µ—Ä—ñ–∞–ª—å–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤–∞–≥–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó –∞–±–æ –ø–æ—à—É–∫ –ü–∞—Ä–µ—Ç–æ-–æ–ø—Ç–∏–º–∞–ª—å–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å. |
#  | **–û–ø—Ç–∏–º–∞–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è** | "–î–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–æ–±—Ä–µ" —Ä—ñ—à–µ–Ω–Ω—è –∑–∞ 1 —Å–µ–∫—É–Ω–¥—É –Ω–∞–±–∞–≥–∞—Ç–æ —Ü—ñ–Ω–Ω—ñ—à–µ –∑–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–µ –∑–∞ 10 —Ö–≤–∏–ª–∏–Ω. | **–ú–µ—Ç–∞–µ–≤—Ä–∏—Å—Ç–∏–∫–∏ —Ç–∞ Anytime Algorithms:** –ê–ª–≥–æ—Ä–∏—Ç–º–∏, —â–æ —à–≤–∏–¥–∫–æ –∑–Ω–∞—Ö–æ–¥—è—Ç—å —Ö–æ—Ä–æ—à–µ —Ä—ñ—à–µ–Ω–Ω—è —ñ –ø–æ—Å—Ç—É–ø–æ–≤–æ –π–æ–≥–æ –ø–æ–∫—Ä–∞—â—É—é—Ç—å. |
#  | **–ù–∞–¥—ñ–π–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏** | OSRM –º–æ–∂–µ –≤–ø–∞—Å—Ç–∏, VROOM –º–æ–∂–µ –Ω–µ –∑–Ω–∞–π—Ç–∏ —Ä—ñ—à–µ–Ω–Ω—è. | **Fallback-—Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó:** –Ø–∫—â–æ VROOM –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–≤ –∑–∞ 2 —Å–µ–∫—É–Ω–¥–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–æ—Å—Ç—ñ—à—É –µ–≤—Ä–∏—Å—Ç–∏–∫—É (–Ω–∞–ø—Ä., –ø—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –≤–æ–¥—ñ—è). |

# %% [markdown]
#  ## –†–µ—Ñ–ª–µ–∫—Å—ñ—è —Ç–∞ –û–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è
#
#  **–ü–∏—Ç–∞–Ω–Ω—è –¥–ª—è –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è –º–∞—Ç–µ—Ä—ñ–∞–ª—É:**
#
#  1.  **–¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ:**
#      - –ß–æ–º—É `Floyd-Warshall` (`O(V¬≥)`), –Ω–µ–∑–≤–∞–∂–∞—é—á–∏ –Ω–∞ –≤–∏—Å–æ–∫—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å, –∫–æ—Ä–∏—Å–Ω–∏–π –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å –≤—ñ–¥—Å—Ç–∞–Ω–µ–π –Ω–∞ –Ω–µ–≤–µ–ª–∏–∫–∏—Ö –≥—Ä–∞—Ñ–∞—Ö?
#      - –ß–æ–º—É `VRP` —î `NP-hard` –∑–∞–¥–∞—á–µ—é, –∞ –ø–æ—à—É–∫ –Ω–∞–π–∫–æ—Ä–æ—Ç—à–æ–≥–æ —à–ª—è—Ö—É (Dijkstra) ‚Äî –Ω—ñ?
#      - –Ø–∫—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `PostGIS` –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ—à—É–∫—É "—Ç–æ—á–æ–∫ —É –ø–æ–ª—ñ–≥–æ–Ω—ñ"? (–í—ñ–¥–ø–æ–≤—ñ–¥—å: R-Tree).
#
#  2.  **–ü—Ä–∞–∫—Ç–∏—á–Ω—ñ:**
#      - –©–æ –≤–∞–∂–ª–∏–≤—ñ—à–µ –¥–ª—è –ª–æ–≥—ñ—Å—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞–ø—É: —à–≤–∏–¥–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ API —á–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç—ñ–≤? –Ø–∫ –∑–Ω–∞–π—Ç–∏ –±–∞–ª–∞–Ω—Å?
#      - –Ø–∫ –±–∏ –≤–∏ –∑–º—ñ–Ω–∏–ª–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ "–±–∞—Ç—á–∏–Ω–≥—É" –∑–∞–º–æ–≤–ª–µ–Ω—å (–æ–¥–∏–Ω –∫—É—Ä'—î—Ä –∑–∞–±–∏—Ä–∞—î –∫—ñ–ª—å–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω—å –∑ –æ–¥–Ω–æ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—É)?
#      - –Ø–∫—ñ –¥–∞–Ω—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–∏—Ä–∞—Ç–∏ –∑ –º–æ–±—ñ–ª—å–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤ –≤–æ–¥—ñ—ó–≤, —â–æ–± –ø–æ–∫—Ä–∞—â—É–≤–∞—Ç–∏ –º–æ–¥–µ–ª—å –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É?

# %% [markdown]
#  ## –î–æ–º–∞—à–Ω—î –ó–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ –ü–æ–¥–∞–ª—å—à—ñ –ö—Ä–æ–∫–∏
#
#  ### –†—ñ–≤–µ–Ω—å 1: –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –Ω–∞—à–æ–≥–æ –≤–æ—Ä–∫—à–æ–ø—É
#  1.  **–î–æ–¥–∞–π—Ç–µ –æ–±–º–µ–∂–µ–Ω–Ω—è –ø–æ –≤–∞–∑—ñ:** –ú–æ–¥–∏—Ñ—ñ–∫—É–π—Ç–µ `points.csv`, –¥–æ–¥–∞–≤—à–∏ –∫–æ–ª–æ–Ω–∫—É `weight`. –û–Ω–æ–≤—ñ—Ç—å VROOM-–∑–∞–ø–∏—Ç, —â–æ–± –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –Ω–µ —Ç—ñ–ª—å–∫–∏ `amount` (–æ–±'—î–º), –∞–ª–µ –π –≤–∞–≥—É.
#  2.  **–î–æ–¥–∞–π—Ç–µ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏:** –î–æ–¥–∞–π—Ç–µ –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω—å –ø–æ–ª–µ `priority` (–≤—ñ–¥ 0 –¥–æ 100). VROOM –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ü–µ –ø–æ–ª–µ "out of the box". –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π—Ç–µ, —è–∫ –∑–º—ñ–Ω–∏–ª–∏—Å—è –º–∞—Ä—à—Ä—É—Ç–∏.
#  3.  **–†–µ–∞–ª—ñ–∑—É–π—Ç–µ Fallback:** –ù–∞–ø–∏—à—ñ—Ç—å –ø—Ä–æ—Å—Ç—É Python-—Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ —Ä–µ–∞–ª—ñ–∑—É—î "–∂–∞–¥—ñ–±–Ω–∏–π" –∞–ª–≥–æ—Ä–∏—Ç–º (–∑–∞–≤–∂–¥–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –≤—ñ–ª—å–Ω–æ–≥–æ –≤–æ–¥—ñ—è –¥–æ –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è). –ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑ VROOM.
#
#  ### –†—ñ–≤–µ–Ω—å 2: –ù–æ–≤–∏–π –¥–æ–º–µ–Ω ‚Äî –¢–∞–∫—Å—ñ-—Å–µ—Ä–≤—ñ—Å
#  **–ó–∞–¥–∞—á–∞:** –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∏–º—É–ª—è—Ç–æ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–∞–∫—Å—ñ-—Å–µ—Ä–≤—ñ—Å—É.
#  1.  **–°–∏–º—É–ª—è—Ü—ñ—è:** –ù–∞–ø–∏—à—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç, —è–∫–∏–π –≥–µ–Ω–µ—Ä—É—î –≤–∏–ø–∞–¥–∫–æ–≤—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (–ø–∞—Å–∞–∂–∏—Ä –∑ —Ç–æ—á–∫–∏ –ê –≤ —Ç–æ—á–∫—É –ë) –∫–æ–∂–Ω—ñ 10-30 —Å–µ–∫—É–Ω–¥.
#  2.  **Matching:** –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è, –∑–Ω–∞–π–¥—ñ—Ç—å 5 –Ω–∞–π–±–ª–∏–∂—á–∏—Ö –≤—ñ–ª—å–Ω–∏—Ö –≤–æ–¥—ñ—ó–≤ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ OSRM `table` –∑–∞–ø–∏—Ç).
#  3.  **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ü—Ä–∏–∑–Ω–∞—á—Ç–µ –≤–æ–¥—ñ—è, –¥–ª—è —è–∫–æ–≥–æ —Å—É–º–∞—Ä–Ω–∏–π —á–∞—Å (–¥–æ—ó–∑–¥ –¥–æ –∫–ª—ñ—î–Ω—Ç–∞ + –ø–æ—ó–∑–¥–∫–∞ –∑ –∫–ª—ñ—î–Ω—Ç–æ–º) –±—É–¥–µ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º.
#  4.  **–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è:** –í—ñ–¥–æ–±—Ä–∞–∑—ñ—Ç—å –Ω–∞ `Folium` –º–∞–ø—ñ —Ä—É—Ö –º–∞—à–∏–Ω —Ç–∞ –Ω–æ–≤—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ (–º–æ–∂–Ω–∞ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –∫–∞—Ä—Ç—É –≤ —Ü–∏–∫–ª—ñ).
#
#  ### –†—ñ–≤–µ–Ω—å 3: –î–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è
#  - **–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–æ –∞–ª–≥–æ—Ä–∏—Ç–º `Large Neighborhood Search (LNS)`**, —è–∫–∏–π –ª–µ–∂–∏—Ç—å –≤ –æ—Å–Ω–æ–≤—ñ VROOM, —ñ —Å–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç–∏ –π–æ–≥–æ —Å–ø—Ä–æ—â–µ–Ω—É –≤–µ—Ä—Å—ñ—é.
#  - **–î–æ—Å–ª—ñ–¥—ñ—Ç—å `OR-Tools` –≤—ñ–¥ Google:** –°–ø—Ä–æ–±—É–π—Ç–µ –≤–∏—Ä—ñ—à–∏—Ç–∏ –Ω–∞—à—É VRP-–∑–∞–¥–∞—á—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `pywrapcp` –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ —ñ –ø–æ—Ä—ñ–≤–Ω—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∫–æ–¥—É –∑ VROOM.
#  - **–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ:** –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ [NYC Taxi Dataset](https://www.nyc.gov/site/tlc/about/tlc-trip-record-data.page) —ñ –ø–æ–±—É–¥—É–π—Ç–µ —Ç–µ–ø–ª–æ–≤—É –∫–∞—Ä—Ç—É –ø–æ–ø–∏—Ç—É –≤ —Ä—ñ–∑–Ω–∏–π —á–∞—Å –¥–æ–±–∏.

# %% [markdown]
#  ## –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫—É—Ä—Å—É
#
#  ### –ö–ª—é—á–æ–≤—ñ –≤–∏—Å–Ω–æ–≤–∫–∏:
#
#  1.  **–ê–ª–≥–æ—Ä–∏—Ç–º–∏ ‚Äî —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, –∞ –Ω–µ —Å–∞–º–æ—Ü—ñ–ª—å.** –†–æ–∑—É–º—ñ–Ω–Ω—è –∑–∞–¥–∞—á—ñ —Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –≤–∞–∂–ª–∏–≤—ñ—à–µ, –Ω—ñ–∂ –∑–Ω–∞–Ω–Ω—è –Ω–∞–ø–∞–º'—è—Ç—å —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –∫–æ–∂–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É.
#  2.  **–ù–µ –±—ñ–π—Ç–µ—Å—è "—á–æ—Ä–Ω–∏—Ö —Å–∫—Ä–∏–Ω—å–æ–∫".** –¢–∞–∫—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —è–∫ OSRM —Ç–∞ VROOM, —î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –¥–µ—Å—è—Ç–∏–ª—ñ—Ç—å –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å. –í–∞—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è —è–∫ —ñ–Ω–∂–µ–Ω–µ—Ä–∞ ‚Äî –Ω–∞–≤—á–∏—Ç–∏—Å—è —ó—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ "–≥–æ—Ç—É–≤–∞—Ç–∏" —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏.
#  3.  **–°–∏—Å—Ç–µ–º–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è –≤–∏—Ä—ñ—à—É—î –≤—Å–µ.** –ù–∞–π–∫—Ä–∞—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –º–∞—Ä–Ω–∏–π, —è–∫—â–æ –≤—ñ–Ω –Ω–µ –≤–ø–∏—Å–∞–Ω–∏–π —É –Ω–∞–¥—ñ–π–Ω—É, –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—É —Ç–∞ –≥–Ω—É—á–∫—É –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É.
#
#  > **–í–∏ —Ç–µ–ø–µ—Ä –º–∞—î—Ç–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –Ω–∞–±—ñ—Ä –∑–Ω–∞–Ω—å, –∞ –¥–æ—Ä–æ–∂–Ω—é –∫–∞—Ä—Ç—É –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ–π–Ω–∏—Ö –∑–∞–¥–∞—á. –®–ª—è—Ö –≤—ñ–¥ —Ç–µ–æ—Ä—ñ—ó –¥–æ –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø—Ä–æ–π–¥–µ–Ω–æ. –¢–µ–ø–µ—Ä ‚Äî —á–∞—Å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ —Å–∏—Å—Ç–µ–º–∏!**

# %%
# =============================================================================
# –ö–ª—ñ—Ç–∏–Ω–∫–∞-–¥–æ–≤—ñ–¥–Ω–∏–∫: –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ —Ä–µ—Å—É—Ä—Å–∏
# =============================================================================
print("--- –ö–æ–º–∞–Ω–¥–∏ Docker ---")
print("–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏: docker-compose up -d")
print("–ó—É–ø–∏–Ω–∏—Ç–∏ –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏: docker-compose down")
print("–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ OSRM: docker logs osrm_backend")
print("–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏ VROOM: docker logs vroom_express")

print("\n--- –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è ---")
print("OSRM API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: http://project-osrm.org/docs/v5.27.1/api/")
print("VROOM API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: https://github.com/VROOM-Project/vroom/blob/master/docs/API.md")
print("OR-Tools VRP (Python): https://developers.google.com/optimization/routing/vrp")
print("Folium –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: https://python-visualization.github.io/folium/")